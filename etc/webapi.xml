<?xml version="1.0"?>

<routes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Webapi:etc/webapi.xsd">

	<route url="/V1/guest-carts/:cartId/retrieve-twispay-payment-details" method="POST">
		<service class="Twispay\Payments\Api\GuestTwispayPaymentDetailsInterface" method="getPaymentDetails"/>
		<resources>
			<resource ref="anonymous" />
		</resources>
		<data>
			<parameter name="orderId" force="true">%order_id%</parameter>
		</data>
	</route>

	<route url="/V1/carts/mine/retrieve-twispay-payment-details" method="POST">
		<service class="Twispay\Payments\Api\TwispayPaymentDetailsInterface" method="getPaymentDetails"/>
		<resources>
			<resource ref="self" />
		</resources>
		<data>
			<parameter name="orderId" force="true">%order_id%</parameter>
		</data>
	</route>
</routes>